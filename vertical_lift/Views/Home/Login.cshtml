@model vertical_lift.Models.UserMasterValidation
@using vertical_lift.Models;
@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vertical lift</title>
    @*jquery link*@
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">

    <script src="../../../scripts/jquery-3.4.1.min.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: #0f0f1a;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            background-image: url('../../Content/img/login-bg.jpg');
            background-size: cover;
            background-position: bottom center;
            background-repeat: no-repeat;
        }

            body::before {
                content: "";
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.5);
            }

        .container {
            position: relative;
            width: 350px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(3px);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            text-align: center;
            color: white;
            border: 3px solid transparent;
            animation: borderAnimation 3s infinite linear;
        }

        @@keyframes borderAnimation {
            0% {
                border-color: #ff4d4d;
                box-shadow: 0 0 10px #ff4d4d;
            }

            25% {
                border-color: #ffcc00;
                box-shadow: 0 0 10px #ffcc00;
            }

            50% {
                border-color: #33cc33;
                box-shadow: 0 0 10px #33cc33;
            }

            75% {
                border-color: #3399ff;
                box-shadow: 0 0 10px #3399ff;
            }

            100% {
                border-color: #ff4d4d;
                box-shadow: 0 0 10px #ff4d4d;
            }
        }

        .container h2 {
            margin-bottom: 20px;
        }

        .input-box {
            text-align: left;
            position: relative;
            margin-bottom: 20px;
        }

            .input-box .form-control {
                width: 100%;
                padding: 10px;
                background: transparent;
                border: none;
                border-bottom: 2px solid white;
                outline: none;
                color: white;
                font-size: 16px;
            }

            .input-box label {
                position: absolute;
                left: 10px;
                top: 10px;
                transition: 0.3s;
                color: rgba(255, 255, 255, 0.7);
            }

            .input-box .form-control:focus ~ label,
            .input-box .form-control:valid ~ label {
                top: -10px;
                font-size: 14px;
                color: white;
            }

        .login-btn {
            width: 100%;
            padding: 10px;
            background: #002b5b;
            border: none;
            color: white;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            transition: 0.3s;
        }

            .login-btn:hover {
                background: #0051a8;
            }

        .links {
            margin-top: 16px;
            display: flex;
            justify-content: center;
            font-size: 12px;
        }

        .floating-character {
            position: absolute;
            left: 80px;
            top: -97px;
            width: 150px;
            animation: float 4s ease-in-out infinite;
        }

        @@keyframes float {
            0%, 100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        @@media (max-width: 400px) {
            .container {
                width: 90%;
            }
        }



        .loader {
            color: rgb(124, 124, 124);
            font-family: "Poppins", sans-serif;
            font-weight: 500;
            font-size: 28px;
            -webkit-box-sizing: content-box;
            box-sizing: content-box;
            height: 40px;
            padding: 10px 10px;
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            border-radius: 8px;
        }

        .words {
            overflow: hidden;
            position: relative;
            top: 28px;
            left: -5px;
            color: white;
        }

            .words::after {
                content: "";
                position: absolute;
                inset: 0;
                background: linear-gradient( var(--bg-color) 10%, transparent 30%, transparent 70%, var(--bg-color) 90% );
                z-index: 20;
            }

        .word {
            display: block;
            height: 100%;
            padding-left: 6px;
            color: white;
            text-align: left;
            animation: spin_4991 10s infinite;
        }

        @@keyframes spin_4991 {
            10% {
                -webkit-transform: translateY(-102%);
                transform: translateY(-102%);
            }

            25% {
                -webkit-transform: translateY(-100%);
                transform: translateY(-100%);
            }

            35% {
                -webkit-transform: translateY(-202%);
                transform: translateY(-202%);
            }

            50% {
                -webkit-transform: translateY(-200%);
                transform: translateY(-200%);
            }

            60% {
                -webkit-transform: translateY(-302%);
                transform: translateY(-302%);
            }

            75% {
                -webkit-transform: translateY(-300%);
                transform: translateY(-300%);
            }

            85% {
                -webkit-transform: translateY(-402%);
                transform: translateY(-402%);
            }

            100% {
                -webkit-transform: translateY(-400%);
                transform: translateY(-400%);
            }
        }

        i#togglePassword {
            position: absolute;
        }

        /* Vibrate effect */
        .vibrate {
            animation: vibrate 0.3s ease-in-out 3; /* Vibrates 3 times */
        }

        @@keyframes vibrate {
            0% {
                transform: translateX(0);
            }

            25% {
                transform: translateX(-5px);
            }

            50% {
                transform: translateX(5px);
            }

            75% {
                transform: translateX(-5px);
            }

            100% {
                transform: translateX(0);
            }
        }
/* vietnamese */
@@font-face {
  font-family: 'Big Shoulders';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/bigshoulders/v2/qFdR35CPh40oITJ69S3GFqy5-BQAf4qnj7feObqg-daug9UKQw.woff2) format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB;
}
/* latin-ext */
@@font-face {
  font-family: 'Big Shoulders';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/bigshoulders/v2/qFdR35CPh40oITJ69S3GFqy5-BQAf4qnj7feObqg-davg9UKQw.woff2) format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
/* latin */
@@font-face {
  font-family: 'Big Shoulders';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/bigshoulders/v2/qFdR35CPh40oITJ69S3GFqy5-BQAf4qnj7feObqg-dahg9U.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
    </style>
</head>
<body>
    <form id="loginForm">
        <div class="container">
            <h2>LOGIN</h2>
            <div class="input-box">
                @* @Html.TextBoxFor(model => model.UserId, new { @class = "form-control", maxlength = "15", @autofocus = "true", })*@
                @Html.TextBox("UserId", "9212", new { @class = "form-control", maxlength = "15", @autofocus = "true" })

                <label>User ID</label>
                <span style="color:red; " id="user"></span>
            </div>
            <div class="input-box position-relative">
                @* @Html.TextBoxFor(model => model.PW, new
                {
                    @type = "password",
                    @class = "form-control",
                    maxlength = "100",


                })*@

                @Html.TextBox("PW", "5544", new
                {
                    @type = "password",
                    @class = "form-control",
                    maxlength = "100"
                })

                <label>Password</label>
                <i class="fa fa-eye position-absolute" id="togglePassword" style="right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer;"></i>
                <span style="color:red; " id="pass"></span>
            </div>
            <button class="login-btn" id="login-btn">LOGIN</button>

            <span class="mt-2" style="color:white; font-weight:600;" id="success"></span>
            <span class="mt-2" style="color: red; font-weight: 600; " id="failed"></span>

            <div class="links">
                <a href="#" style="color:white; margin-top:10px;text-align:center;">FORGOT PASSWORD</a>
            </div>

            <div class="loader floating-character" alt="Character Illustration">
                <div class="loader">
                    <p style="font-size: 56px !important; font-family: 'Big Shoulders'; color: #1150D8 !important; font-weight: 700; ">C</p>
                    <div class="words">
                        <span class="word">automate</span>
                        <span class="word">reintors</span>
                        <span class="word">automate</span>
                        <span class="word">reintors</span>
                        <span class="word">automate</span>
                    </div>
                </div>
            </div>
        </div>
        </form>
    <script>
        $(document).ready(function () {
            $("input").attr("autocomplete", "off")

            $("#UserId").on("input", function () {
                $("#UserId").css({
                    "border": "none",
                    "border-bottom": "2px solid white"
                })
                $("#user").text("");
                let value = $(this).val();
                /*if (/[a-zA-Z]/.test(value)) {
                    $("#user").text("Only numbers are allowed in User ID");
                    value = value.replace(/\D/g, ''); 
                }*/
                $(this).val(value.slice(0, 10)); 
            });
            $("#PW").on("input", function () {
                $("#PW").css({
                    "border": "none",
                    "border-bottom": "2px solid white"
                })
                $("#pass").text("");
            });



                $("#togglePassword").click(function () {
                    let passwordField = $("#PW");
                    let type = passwordField.attr("type") === "password" ? "text" : "password";
                    passwordField.attr("type", type);
                    $(this).toggleClass("fa-eye fa-eye-slash");
                });
              

            $("#loginForm").submit(function (e) {
                $("#user, #pass").text("");
                $("#UserId, #PW").css({
                    "border": "none",
                    "border-bottom": "2px solid white"
                })
                e.preventDefault(); // Prevent default form submission


                var isValid = true;
                var UserId = $("#UserId").val().trim();
                var pw = $("#PW").val().trim();

                // Validation for UserId
                if (UserId === "") {
                    $("#user").text('Enter User ID');
                    $("#UserId").css({
                        "border": "none",
                        "border-bottom": "2px solid red"
                    }).focus();
                    $(".container").addClass("vibrate");

                    setTimeout(function () {
                        $(".container").removeClass("vibrate");
                    }, 1000);
                    isValid = false;
                }
                else if (pw === "") {
                    $("#pass").text('Enter Password');
                    $("#PW").css({
                        "border": "none",
                        "border-bottom": "2px solid red"
                    }).focus();
                    $(".container").addClass("vibrate");
                     setTimeout(function () {
                         $(".container").removeClass("vibrate");
                     }, 1000);
                    isValid = false;
                }

                // Stop if validation fails
                if (!isValid) return;

                $.ajax({
                    url: '/Home/Login1',
                    type: 'POST',
                    data: {
                        UserId: $("#UserId").val(),
                        PW: $("#PW").val()
                    },
                    success: function (response) {
                        if (response.success && response.redirectUrl) {
                            $("#success").text('Login Successfull');
                            window.location.href = response.redirectUrl;
                        }
                        else if (response.block && response.redirectUrlblock) {
                            $(".container").addClass("vibrate");
                            setTimeout(function () {
                                $(".container").removeClass("vibrate");
                            }, 1000);
                            $("#failed").text('User is Blocked. Please Contact Admin');
                            setTimeout(() => {
                                $("#failed").text('');
                            }, 4000);
                        }
                        else if (response.invalid && response.redirectUrlinvalid) {
                            $(".container").addClass("vibrate");
                            setTimeout(function () {
                                $(".container").removeClass("vibrate");
                            }, 1000);
                            $("#failed").text('Invalid User ID or Password');
                            setTimeout(() => {
                                $("#failed").text('');
                            }, 4000);
                        }
                    },

                    error: function () {
                        alert("An error occurred. Please try again.");
                    }
                });
            });

                });

    </script>
</body>

</html>
